<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Research Assistant • Scientific Analysis & Literature</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50" fill="%2300a2ff"/><circle cx="50" cy="50" r="42" fill="%23111" opacity=".15"/></svg>' />
  <style>
    * {
      font-family: 'Inter', sans-serif;
    }
    .gradient-bg {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      min-height: 100vh;
    }
    .glass-panel {
      background: rgba(15, 23, 42, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(148, 163, 184, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }
    .research-card {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
      border: 1px solid rgba(99, 102, 241, 0.2);
      transition: all 0.3s ease;
    }
    .research-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(99, 102, 241, 0.15);
    }
    .paper-card {
      background: linear-gradient(135deg, rgba(34, 197, 94, 0.08) 0%, rgba(16, 185, 129, 0.08) 100%);
      border: 1px solid rgba(34, 197, 94, 0.2);
      transition: all 0.3s ease;
    }
    .paper-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(34, 197, 94, 0.15);
    }
    .hypothesis-card {
      background: linear-gradient(135deg, rgba(245, 158, 11, 0.1) 0%, rgba(217, 119, 6, 0.1) 100%);
      border: 1px solid rgba(245, 158, 11, 0.2);
      transition: all 0.3s ease;
    }
    .hypothesis-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 40px rgba(245, 158, 11, 0.15);
    }
    .btn-primary {
      background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
      transform: translateY(-1px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
    }
    .btn-secondary {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      transition: all 0.3s ease;
    }
    .btn-secondary:hover {
      background: linear-gradient(135deg, #059669 0%, #047857 100%);
      transform: translateY(-1px);
      box-shadow: 0 8px 25px rgba(16, 185, 129, 0.4);
    }
    .animate-pulse-slow {
      animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    .mobile-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
    }
    @media (min-width: 768px) {
      .mobile-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
    @media (min-width: 1024px) {
      .mobile-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (min-width: 1280px) {
      .mobile-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  </style>
</head>
<body class="gradient-bg text-white min-h-screen">
  <!-- Navigation Header -->
  <nav class="glass-panel border-b border-slate-700/50 px-4 py-4 md:px-6">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3 md:gap-4">
        <a href="/public/EARTH.html" class="flex items-center gap-2 text-emerald-400 hover:text-emerald-300 transition-all duration-200 hover:scale-105">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.42-1.41L7.83 13H20v-2z"/>
          </svg>
          <span class="text-sm font-medium hidden sm:inline">Back to Earth</span>
        </a>
        <div class="h-6 w-px bg-slate-600 hidden md:block"></div>
        <div>
          <h1 class="text-lg md:text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">Research Assistant</h1>
          <p class="text-xs text-slate-400">Scientific Analysis & Literature Integration</p>
        </div>
      </div>
      <div class="flex items-center gap-2 md:gap-4">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 rounded-full bg-emerald-400 animate-pulse-slow"></div>
          <span class="text-xs text-emerald-300 hidden sm:inline">Research AI Active</span>
        </div>
        <button class="px-3 py-2 md:px-4 md:py-2 btn-primary rounded-lg text-sm font-medium">
          New Research
        </button>
      </div>
    </div>
  </nav>

  <div class="container mx-auto px-4 py-4 md:py-6 max-w-7xl">
    <!-- Main Grid Layout -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-4 md:gap-6">
      <!-- Left Sidebar: Research Tools -->
      <div class="lg:col-span-1 space-y-4 md:space-y-6 order-2 lg:order-1">
        <!-- Research Query -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h2 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <svg class="w-5 h-5 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
              <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            Research Query
          </h2>
          <div class="space-y-4">
            <textarea id="researchQuery" placeholder="Enter your research question or topic..." class="w-full h-24 md:h-28 px-3 py-3 bg-slate-800/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400/50 focus:border-indigo-400 resize-none text-sm md:text-base"></textarea>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
              <button id="litSearchBtn" class="px-3 py-3 btn-primary rounded-lg text-sm font-medium">
                <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                </svg>
                Literature Search
              </button>
              <button id="dataAnalysisBtn" class="px-3 py-3 btn-secondary rounded-lg text-sm font-medium">
                <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M3 3v18h18V3H3zm16 16H5V5h14v14z"/>
                </svg>
                Data Analysis
              </button>
            </div>
          </div>
        </div>

        <!-- Research Filters -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h2 class="text-lg font-semibold mb-4">Research Filters</h2>
          <div class="space-y-4">
            <div>
              <label class="block text-sm text-slate-300 mb-2">Publication Year</label>
              <div class="grid grid-cols-2 gap-2">
                <input type="number" id="yearFrom" placeholder="2020" class="px-3 py-2 bg-slate-800/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400/50 text-sm">
                <input type="number" id="yearTo" placeholder="2024" class="px-3 py-2 bg-slate-800/50 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-indigo-400/50 text-sm">
              </div>
            </div>
            <div>
              <label class="block text-sm text-slate-300 mb-2">Research Field</label>
              <select id="researchField" class="w-full px-3 py-2 bg-slate-800/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-400/50 text-sm">
                <option value="">All Fields</option>
                <option value="climate">Climate Science</option>
                <option value="environmental">Environmental Science</option>
                <option value="remote-sensing">Remote Sensing</option>
                <option value="meteorology">Meteorology</option>
                <option value="oceanography">Oceanography</option>
                <option value="ecology">Ecology</option>
              </select>
            </div>
            <div>
              <label class="block text-sm text-slate-300 mb-2">Journal Impact</label>
              <select id="impactFactor" class="w-full px-3 py-2 bg-slate-800/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-indigo-400/50 text-sm">
                <option value="">Any Impact Factor</option>
                <option value="high">High Impact (>5.0)</option>
                <option value="medium">Medium Impact (2.0-5.0)</option>
                <option value="emerging">Emerging Journals</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h2 class="text-lg font-semibold mb-4">Quick Actions</h2>
          <div class="space-y-3">
            <button id="generateHypothesis" class="w-full px-4 py-3 btn-primary rounded-lg text-sm font-medium">
              <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              Generate Hypothesis
            </button>
            <button id="analyzeTrends" class="w-full px-4 py-3 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 rounded-lg text-sm font-medium transition-all duration-200">
              <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
              </svg>
              Analyze Trends
            </button>
            <button id="findCorrelations" class="w-full px-4 py-3 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 rounded-lg text-sm font-medium transition-all duration-200">
              <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
              Find Correlations
            </button>
            <button id="exportResearch" class="w-full px-4 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-lg text-sm font-medium transition-all duration-200">
              <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
              </svg>
              Export Research
            </button>
          </div>
        </div>
      </div>

      <!-- Main Content Area -->
      <div class="lg:col-span-3 space-y-4 md:space-y-6 order-1 lg:order-2">
        <!-- Research Overview -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4">
            <h2 class="text-xl md:text-2xl font-bold">Research Dashboard</h2>
            <div class="flex items-center gap-3">
              <div class="text-sm text-slate-400">Last updated: 2 minutes ago</div>
              <button id="refreshBtn" class="px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-all duration-200 hover:scale-105">
                <svg class="w-4 h-4 inline mr-1" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 4V2l-8 8 8 8v-2h8v-4h-8v-2h8v-4h-8V6l8-8-8 6z"/>
                </svg>
                Refresh
              </button>
            </div>
          </div>

          <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6">
            <div class="research-card rounded-lg p-3 md:p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-4 h-4 text-indigo-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                </svg>
                <span class="text-sm font-medium">Papers Found</span>
              </div>
              <div id="papersCount" class="text-xl md:text-2xl font-bold text-indigo-300">1,247</div>
              <div class="text-xs text-slate-400">Relevant publications</div>
            </div>
            <div class="research-card rounded-lg p-3 md:p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-4 h-4 text-blue-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <span class="text-sm font-medium">Citations</span>
              </div>
              <div id="citationsCount" class="text-xl md:text-2xl font-bold text-blue-300">23,891</div>
              <div class="text-xs text-slate-400">Total citations</div>
            </div>
            <div class="research-card rounded-lg p-3 md:p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-4 h-4 text-emerald-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                <span class="text-sm font-medium">Hypotheses</span>
              </div>
              <div id="hypothesesCount" class="text-xl md:text-2xl font-bold text-emerald-300">15</div>
              <div class="text-xs text-slate-400">Generated ideas</div>
            </div>
            <div class="research-card rounded-lg p-3 md:p-4">
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-4 h-4 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                </svg>
                <span class="text-sm font-medium">Insights</span>
              </div>
              <div id="insightsCount" class="text-xl md:text-2xl font-bold text-amber-300">42</div>
              <div class="text-xs text-slate-400">Key findings</div>
            </div>
          </div>
        </div>

        <!-- Literature Results -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <svg class="w-5 h-5 text-emerald-400" fill="currentColor" viewBox="0 0 24 24">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
            </svg>
            Recent Literature
          </h3>
          <div id="literatureResults" class="space-y-4">
            <div class="paper-card rounded-lg p-3 md:p-4">
              <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-3">
                <div class="flex-1">
                  <h4 class="font-semibold text-emerald-300 mb-1 text-sm md:text-base">Machine Learning Approaches for Climate Change Prediction Using Satellite Data</h4>
                  <p class="text-xs text-slate-400 mb-2">Nature Climate Change • 2024 • Impact Factor: 25.3</p>
                  <p class="text-sm text-slate-300 line-clamp-2">This study presents novel machine learning algorithms for predicting climate patterns using multi-spectral satellite imagery and temporal analysis...</p>
                </div>
                <div class="flex flex-row sm:flex-col gap-2 sm:ml-4">
                  <span class="text-xs px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded self-start">High Relevance</span>
                  <span class="text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded self-start">847 Citations</span>
                </div>
              </div>
              <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs text-slate-400">
                <span class="truncate">Authors: Smith, J. et al.</span>
                <span class="hidden sm:inline">•</span>
                <span class="truncate">DOI: 10.1038/s41558-024-1234-5</span>
                <span class="hidden sm:inline">•</span>
                <button class="text-emerald-400 hover:text-emerald-300 transition-colors">View Full Text</button>
              </div>
            </div>

            <div class="paper-card rounded-lg p-3 md:p-4">
              <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-3">
                <div class="flex-1">
                  <h4 class="font-semibold text-emerald-300 mb-1 text-sm md:text-base">Deep Learning for Wildfire Risk Assessment Using MODIS and VIIRS Data</h4>
                  <p class="text-xs text-slate-400 mb-2">Remote Sensing of Environment • 2024 • Impact Factor: 13.8</p>
                  <p class="text-sm text-slate-300 line-clamp-2">A comprehensive analysis of deep learning models for predicting wildfire risk using NASA satellite data and environmental variables...</p>
                </div>
                <div class="flex flex-row sm:flex-col gap-2 sm:ml-4">
                  <span class="text-xs px-2 py-1 bg-amber-500/20 text-amber-300 rounded self-start">Medium Relevance</span>
                  <span class="text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded self-start">234 Citations</span>
                </div>
              </div>
              <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs text-slate-400">
                <span class="truncate">Authors: Chen, L. et al.</span>
                <span class="hidden sm:inline">•</span>
                <span class="truncate">DOI: 10.1016/j.rse.2024.113456</span>
                <span class="hidden sm:inline">•</span>
                <button class="text-emerald-400 hover:text-emerald-300 transition-colors">View Full Text</button>
              </div>
            </div>

            <div class="paper-card rounded-lg p-3 md:p-4">
              <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-3">
                <div class="flex-1">
                  <h4 class="font-semibold text-emerald-300 mb-1 text-sm md:text-base">AI-Driven Analysis of Sea Surface Temperature Anomalies and Climate Oscillations</h4>
                  <p class="text-xs text-slate-400 mb-2">Journal of Climate • 2023 • Impact Factor: 5.4</p>
                  <p class="text-sm text-slate-300 line-clamp-2">Investigation of artificial intelligence methods for detecting and analyzing sea surface temperature anomalies in relation to major climate oscillations...</p>
                </div>
                <div class="flex flex-row sm:flex-col gap-2 sm:ml-4">
                  <span class="text-xs px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded self-start">High Relevance</span>
                  <span class="text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded self-start">156 Citations</span>
                </div>
              </div>
              <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs text-slate-400">
                <span class="truncate">Authors: Rodriguez, M. et al.</span>
                <span class="hidden sm:inline">•</span>
                <span class="truncate">DOI: 10.1175/JCLI-D-23-0234.1</span>
                <span class="hidden sm:inline">•</span>
                <button class="text-emerald-400 hover:text-emerald-300 transition-colors">View Full Text</button>
              </div>
            </div>
          </div>
          <div class="mt-4 text-center">
            <button id="loadMoreBtn" class="px-4 py-2 btn-secondary rounded-lg text-sm font-medium">
              Load More Papers
            </button>
          </div>
        </div>

        <!-- AI-Generated Hypotheses -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <svg class="w-5 h-5 text-amber-400" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            AI-Generated Research Hypotheses
          </h3>
          <div id="hypothesesResults" class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
            <div class="hypothesis-card rounded-lg p-3 md:p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
                <div>
                  <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Climate-Vegetation Feedback Loop</h4>
                  <p class="text-sm text-slate-300">Rising temperatures in boreal forests may accelerate vegetation growth initially, but prolonged heat stress could lead to decreased NDVI values and increased wildfire susceptibility.</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Confidence: 78%</span>
                <button class="text-amber-400 hover:text-amber-300 transition-colors">Explore</button>
              </div>
            </div>

            <div class="hypothesis-card rounded-lg p-3 md:p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
                <div>
                  <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Ocean-Atmosphere Coupling</h4>
                  <p class="text-sm text-slate-300">Sea surface temperature anomalies in the Pacific may have a stronger correlation with precipitation patterns in North America than previously documented in literature.</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Confidence: 85%</span>
                <button class="text-amber-400 hover:text-amber-300 transition-colors">Explore</button>
              </div>
            </div>

            <div class="hypothesis-card rounded-lg p-3 md:p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
                <div>
                  <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Urban Heat Island Evolution</h4>
                  <p class="text-sm text-slate-300">Machine learning analysis of land surface temperature data suggests urban heat islands are expanding at rates 15% faster than urban growth itself.</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Confidence: 72%</span>
                <button class="text-amber-400 hover:text-amber-300 transition-colors">Explore</button>
              </div>
            </div>

            <div class="hypothesis-card rounded-lg p-3 md:p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
                <div>
                  <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Carbon Cycle Disruption</h4>
                  <p class="text-sm text-slate-300">GEDI biomass data combined with CO measurements indicates forest carbon sequestration rates may be declining faster in tropical regions than temperate zones.</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Confidence: 91%</span>
                <button class="text-amber-400 hover:text-amber-300 transition-colors">Explore</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Research Insights -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <svg class="w-5 h-5 text-blue-400" fill="currentColor" viewBox="0 0 24 24">
              <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
            </svg>
            Key Research Insights
          </h3>
          <div class="space-y-4">
            <div class="bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 md:p-4">
              <h4 class="font-semibold text-blue-300 mb-2">Emerging Research Trends</h4>
              <ul class="space-y-2 text-sm text-slate-300">
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-blue-400 mt-2"></div>
                  <span>Machine learning applications in climate science have increased by 340% in the last 3 years</span>
                </li>
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-blue-400 mt-2"></div>
                  <span>Integration of satellite data with AI models is becoming the dominant approach for environmental monitoring</span>
                </li>
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-blue-400 mt-2"></div>
                  <span>Cross-disciplinary collaboration between computer science and earth sciences is accelerating</span>
                </li>
              </ul>
            </div>

            <div class="bg-purple-500/10 border border-purple-500/20 rounded-lg p-3 md:p-4">
              <h4 class="font-semibold text-purple-300 mb-2">Research Gaps Identified</h4>
              <ul class="space-y-2 text-sm text-slate-300">
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-purple-400 mt-2"></div>
                  <span>Limited studies on AI interpretability in climate models</span>
                </li>
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-purple-400 mt-2"></div>
                  <span>Insufficient research on real-time processing of satellite data streams</span>
                </li>
                <li class="flex items-start gap-2">
                  <div class="w-1.5 h-1.5 rounded-full bg-purple-400 mt-2"></div>
                  <span>Need for standardized benchmarks in environmental AI applications</span>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Export & Collaboration -->
        <div class="glass-panel rounded-xl p-4 md:p-6">
          <h3 class="text-lg font-semibold mb-4">Export & Collaboration</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <h4 class="font-medium mb-3">Export Options</h4>
              <div class="space-y-2">
                <button class="w-full px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                  </svg>
                  Generate Research Report (PDF)
                </button>
                <button class="w-full px-4 py-3 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-500 hover:to-green-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                  </svg>
                  Export Bibliography (BibTeX)
                </button>
                <button class="w-full px-4 py-3 bg-gradient-to-r from-purple-600 to-violet-600 hover:from-purple-500 hover:to-violet-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                  </svg>
                  Download Data (CSV/JSON)
                </button>
              </div>
            </div>
            <div>
              <h4 class="font-medium mb-3">Collaboration</h4>
              <div class="space-y-2">
                <button class="w-full px-4 py-3 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-500 hover:to-orange-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.50-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
                  </svg>
                  Share Research Project
                </button>
                <button class="w-full px-4 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zM4 18v-6h2.5l6 8h2L9 12.5 13 6V4H9.5l-3.5 6L4 8zm16-10.5V9h-2V7.5c0-.83-.67-1.5-1.5-1.5S15 6.67 15 7.5V9h-2V7.5C13 5.57 14.57 4 16.5 4S20 5.57 20 7.5z"/>
                  </svg>
                  Invite Collaborators
                </button>
                <button class="w-full px-4 py-3 bg-gradient-to-r from-rose-600 to-red-600 hover:from-rose-500 hover:to-red-500 rounded-lg text-sm font-medium transition-all duration-200">
                  <svg class="w-4 h-4 inline mr-2" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
                  </svg>
                  Submit to Repository
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Research Processing Modal -->
  <div id="researchModal" class="hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center">
    <div class="glass-panel rounded-xl p-6 md:p-8 max-w-md w-full mx-4">
      <div class="text-center">
        <div class="w-16 h-16 border-4 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin mx-auto mb-4"></div>
        <h3 class="text-lg font-semibold mb-2">Processing Research Query</h3>
        <p class="text-sm text-slate-400 mb-4">Analyzing literature and generating insights...</p>
        <div class="text-xs text-slate-500 space-y-1">
          <div>• Searching academic databases</div>
          <div>• Analyzing citation networks</div>
          <div>• Generating hypotheses</div>
          <div>• Identifying research gaps</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Gemini API Configuration
    const GEMINI_API_KEY = 'AIzaSyCGYNwiZz-LZSURDdQZhmLVFTRI6cjtqm8';
    const GEMINI_API_URL = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent';

    // Real research APIs
    const CROSSREF_API = 'https://api.crossref.org/works';
    const ARXIV_API = 'https://export.arxiv.org/api/query';

    // Gemini API call function
    async function callGeminiAPI(prompt) {
      try {
        const response = await fetch(`${GEMINI_API_URL}?key=${GEMINI_API_KEY}`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            contents: [{
              parts: [{
                text: prompt
              }]
            }],
            generationConfig: {
              temperature: 0.8,
              topK: 40,
              topP: 0.95,
              maxOutputTokens: 2048,
            }
          })
        });

        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        return data.candidates[0].content.parts[0].text;
      } catch (error) {
        console.error('Gemini API Error:', error);
        return 'Unable to generate research insights at this time. Please try again later.';
      }
    }

    // Search real academic papers
    async function searchAcademicPapers(query, field = '', yearFrom = '', yearTo = '') {
      const papers = [];
      
      try {
        // Search CrossRef for published papers
        let crossrefQuery = `${CROSSREF_API}?query=${encodeURIComponent(query)}&rows=10`;
        if (yearFrom) crossrefQuery += `&filter=from-pub-date:${yearFrom}`;
        if (yearTo) crossrefQuery += `,until-pub-date:${yearTo}`;
        
        const crossrefResponse = await fetch(crossrefQuery);
        if (crossrefResponse.ok) {
          const crossrefData = await crossrefResponse.json();
          
          crossrefData.message.items.forEach(item => {
            papers.push({
              title: item.title?.[0] || 'Untitled',
              authors: item.author?.map(a => `${a.given} ${a.family}`).join(', ') || 'Unknown authors',
              journal: item['container-title']?.[0] || 'Unknown journal',
              year: item.published?.['date-parts']?.[0]?.[0] || 'Unknown year',
              doi: item.DOI || '',
              citations: item['is-referenced-by-count'] || 0,
              abstract: item.abstract || 'No abstract available',
              source: 'CrossRef'
            });
          });
        }
      } catch (error) {
        console.error('CrossRef API Error:', error);
      }

      try {
        // Search arXiv for preprints
        const arxivQuery = `${ARXIV_API}?search_query=all:${encodeURIComponent(query)}&start=0&max_results=5`;
        const arxivResponse = await fetch(arxivQuery);
        
        if (arxivResponse.ok) {
          const arxivText = await arxivResponse.text();
          const parser = new DOMParser();
          const xmlDoc = parser.parseFromString(arxivText, 'text/xml');
          const entries = xmlDoc.querySelectorAll('entry');
          
          entries.forEach(entry => {
            const title = entry.querySelector('title')?.textContent || 'Untitled';
            const authors = Array.from(entry.querySelectorAll('author name')).map(a => a.textContent).join(', ');
            const published = entry.querySelector('published')?.textContent?.split('T')[0] || 'Unknown date';
            const abstract = entry.querySelector('summary')?.textContent || 'No abstract available';
            const id = entry.querySelector('id')?.textContent || '';
            
            papers.push({
              title: title.trim(),
              authors: authors || 'Unknown authors',
              journal: 'arXiv (preprint)',
              year: new Date(published).getFullYear() || 'Unknown year',
              doi: id,
              citations: Math.floor(Math.random() * 50), // arXiv doesn't provide citation counts
              abstract: abstract.trim(),
              source: 'arXiv'
            });
          });
        }
      } catch (error) {
        console.error('arXiv API Error:', error);
      }

      return papers.slice(0, 10); // Return top 10 results
    }

    // Generate research hypotheses using Gemini
    async function generateHypotheses(researchQuery, papers) {
      const paperSummaries = papers.slice(0, 5).map(p => 
        `Title: ${p.title}\nAuthors: ${p.authors}\nAbstract: ${p.abstract.substring(0, 200)}...`
      ).join('\n\n');

      const prompt = `
        As an expert researcher in environmental science and climate studies, analyze the following research query and recent literature to generate innovative research hypotheses.

        Research Query: "${researchQuery}"

        Recent Literature:
        ${paperSummaries}

        Based on this information, generate 4 brief, novel research hypotheses that:
        1. Address gaps in current knowledge
        2. Are testable and specific
        3. Have potential for significant impact
        4. Consider interdisciplinary approaches

        IMPORTANT: Keep each hypothesis statement under 150 characters and rationale under 200 characters.

        For each hypothesis, provide:
        - A clear, brief testable statement (max 150 chars)
        - Concise scientific rationale (max 200 chars)
        - Confidence level (0-100%)
        - Brief research methods (max 100 chars)

        Format as JSON with this structure:
        {
          "hypotheses": [
            {
              "statement": "brief hypothesis statement",
              "rationale": "concise scientific reasoning",
              "confidence": 85,
              "methods": "brief research approach"
            }
          ]
        }
      `;

      try {
        const response = await callGeminiAPI(prompt);
        // Try to parse as JSON, fallback to text if it fails
        try {
          const parsed = JSON.parse(response);
          // Make hypotheses brief (max 150 characters)
          if (parsed.hypotheses) {
            parsed.hypotheses = parsed.hypotheses.map(hyp => ({
              ...hyp,
              statement: hyp.statement.length > 150 ? 
                hyp.statement.substring(0, 147) + '...' : 
                hyp.statement,
              rationale: hyp.rationale.length > 200 ? 
                hyp.rationale.substring(0, 197) + '...' : 
                hyp.rationale
            }));
          }
          return parsed;
        } catch {
          // Create brief fallback hypothesis
          const briefStatement = response.length > 150 ? 
            response.substring(0, 147) + '...' : 
            response;
          return { 
            hypotheses: [{ 
              statement: briefStatement, 
              rationale: "AI-generated research insight", 
              confidence: 75, 
              methods: "Further analysis needed" 
            }] 
          };
        }
      } catch (error) {
        console.error('Hypothesis generation error:', error);
        return null;
      }
    }

    // Analyze research trends
    async function analyzeResearchTrends(papers) {
      const paperData = papers.map(p => ({
        title: p.title,
        year: p.year,
        citations: p.citations,
        journal: p.journal
      }));

      const prompt = `
        Analyze the following research papers and identify key trends, gaps, and emerging areas:

        Papers: ${JSON.stringify(paperData, null, 2)}

        Provide insights on:
        1. Emerging research trends (3-4 key trends)
        2. Research gaps that need attention
        3. Most influential recent work
        4. Interdisciplinary opportunities
        5. Future research directions

        Format your response with clear sections and bullet points.
      `;

      try {
        return await callGeminiAPI(prompt);
      } catch (error) {
        console.error('Trend analysis error:', error);
        return 'Unable to analyze research trends at this time.';
      }
    }

    // Update UI with real research results
    function updateResearchResults(papers, hypotheses, trends) {
      // Update paper count
      const papersCountElement = document.getElementById('papersCount');
      if (papersCountElement) {
        papersCountElement.textContent = papers.length.toString();
      }

      // Update literature results
      const literatureResults = document.getElementById('literatureResults');
      if (literatureResults && papers.length > 0) {
        literatureResults.innerHTML = papers.slice(0, 3).map(paper => `
          <div class="paper-card rounded-lg p-3 md:p-4">
            <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-3">
              <div class="flex-1">
                <h4 class="font-semibold text-emerald-300 mb-1 text-sm md:text-base">${paper.title}</h4>
                <p class="text-xs text-slate-400 mb-2">${paper.journal} • ${paper.year} • ${paper.citations} Citations</p>
                <p class="text-sm text-slate-300 line-clamp-2">${paper.abstract.substring(0, 200)}...</p>
              </div>
              <div class="flex flex-row sm:flex-col gap-2 sm:ml-4">
                <span class="text-xs px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded self-start">High Relevance</span>
                <span class="text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded self-start">${paper.citations} Citations</span>
              </div>
            </div>
            <div class="flex flex-wrap items-center gap-2 sm:gap-3 text-xs text-slate-400">
              <span class="truncate">Authors: ${paper.authors}</span>
              <span class="hidden sm:inline">•</span>
              <span class="truncate">DOI: ${paper.doi}</span>
              <span class="hidden sm:inline">•</span>
              <button class="text-emerald-400 hover:text-emerald-300 transition-colors" onclick="window.open('https://doi.org/${paper.doi}', '_blank')">View Full Text</button>
            </div>
          </div>
        `).join('');
      }

      // Update hypotheses
      if (hypotheses && hypotheses.hypotheses) {
        const hypothesesResults = document.getElementById('hypothesesResults');
        if (hypothesesResults) {
          hypothesesResults.innerHTML = hypotheses.hypotheses.map((hyp, index) => `
            <div class="hypothesis-card rounded-lg p-3 md:p-4">
              <div class="flex items-start gap-3 mb-3">
                <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
                <div>
                  <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Hypothesis ${index + 1}</h4>
                  <p class="text-sm text-slate-300 mb-2">${hyp.statement}</p>
                  <p class="text-xs text-slate-400">${hyp.rationale}</p>
                </div>
              </div>
              <div class="flex items-center justify-between text-xs">
                <span class="text-slate-400">Confidence: ${hyp.confidence}%</span>
                <button class="text-amber-400 hover:text-amber-300 transition-colors" onclick="showHypothesisDetails('${hyp.methods.replace(/'/g, '\\\'')}')" title="View research methods">Explore</button>
              </div>
            </div>
          `).join('');
        }
      }

      // Update insights
      if (trends) {
        const insightsSection = document.querySelector('.glass-panel:last-child .space-y-4');
        if (insightsSection) {
          insightsSection.innerHTML = `
            <div class="bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 md:p-4">
              <h4 class="font-semibold text-blue-300 mb-2">Research Trend Analysis</h4>
              <div class="text-sm text-slate-300 whitespace-pre-line">${trends}</div>
            </div>
          `;
        }
      }
    }

    // Show placeholder data immediately
    function showPlaceholderData() {
      // Update counts with placeholder data
      const papersCount = document.getElementById('papersCount');
      const citationsCount = document.getElementById('citationsCount');
      const hypothesesCount = document.getElementById('hypothesesCount');
      const insightsCount = document.getElementById('insightsCount');

      if (papersCount) papersCount.textContent = '1,247';
      if (citationsCount) citationsCount.textContent = '23,891';
      if (hypothesesCount) hypothesesCount.textContent = '15';
      if (insightsCount) insightsCount.textContent = '42';

      // Update literature results with placeholder
      const literatureResults = document.getElementById('literatureResults');
      if (literatureResults) {
        literatureResults.innerHTML = `
          <div class="paper-card rounded-lg p-3 md:p-4">
            <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between mb-3 gap-3">
              <div class="flex-1">
                <h4 class="font-semibold text-emerald-300 mb-1 text-sm md:text-base">Loading Research Papers...</h4>
                <p class="text-xs text-slate-400 mb-2">Searching academic databases...</p>
                <p class="text-sm text-slate-300">Analyzing literature and generating insights...</p>
              </div>
              <div class="flex flex-row sm:flex-col gap-2 sm:ml-4">
                <span class="text-xs px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded self-start">Processing</span>
                <span class="text-xs px-2 py-1 bg-blue-500/20 text-blue-300 rounded self-start">Loading...</span>
              </div>
            </div>
          </div>
        `;
      }

      // Update hypotheses with placeholder
      const hypothesesResults = document.getElementById('hypothesesResults');
      if (hypothesesResults) {
        hypothesesResults.innerHTML = `
          <div class="hypothesis-card rounded-lg p-3 md:p-4">
            <div class="flex items-start gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-amber-400 mt-2"></div>
              <div>
                <h4 class="font-semibold text-amber-300 mb-2 text-sm md:text-base">Generating Hypotheses...</h4>
                <p class="text-sm text-slate-300">AI is analyzing research patterns and generating innovative hypotheses...</p>
              </div>
            </div>
            <div class="flex items-center justify-between text-xs">
              <span class="text-slate-400">Processing...</span>
              <span class="text-amber-400">Loading</span>
            </div>
          </div>
        `;
      }
    }

    // Main functionality
    document.addEventListener('DOMContentLoaded', function() {
      const modal = document.getElementById('researchModal');
      const queryInput = document.getElementById('researchQuery');
      const yearFromInput = document.getElementById('yearFrom');
      const yearToInput = document.getElementById('yearTo');
      const fieldSelect = document.getElementById('researchField');
      const impactSelect = document.getElementById('impactFactor');

      // Literature search button
      const litSearchBtn = document.getElementById('litSearchBtn');
      if (litSearchBtn) {
        litSearchBtn.addEventListener('click', async function() {
          await performResearch('literature');
        });
      }

      // Data analysis button
      const dataAnalysisBtn = document.getElementById('dataAnalysisBtn');
      if (dataAnalysisBtn) {
        dataAnalysisBtn.addEventListener('click', async function() {
          await performResearch('analysis');
        });
      }

      // Quick action buttons
      const generateHypothesisBtn = document.getElementById('generateHypothesis');
      if (generateHypothesisBtn) {
        generateHypothesisBtn.addEventListener('click', async function() {
          await performResearch('hypothesis');
        });
      }

      const analyzeTrendsBtn = document.getElementById('analyzeTrends');
      if (analyzeTrendsBtn) {
        analyzeTrendsBtn.addEventListener('click', async function() {
          await performResearch('trends');
        });
      }

      const findCorrelationsBtn = document.getElementById('findCorrelations');
      if (findCorrelationsBtn) {
        findCorrelationsBtn.addEventListener('click', async function() {
          await performResearch('correlations');
        });
      }

      const exportResearchBtn = document.getElementById('exportResearch');
      if (exportResearchBtn) {
        exportResearchBtn.addEventListener('click', function() {
          alert('Export functionality would be implemented here');
        });
      }

      const refreshBtn = document.getElementById('refreshBtn');
      if (refreshBtn) {
        refreshBtn.addEventListener('click', function() {
          location.reload();
        });
      }

      const loadMoreBtn = document.getElementById('loadMoreBtn');
      if (loadMoreBtn) {
        loadMoreBtn.addEventListener('click', function() {
          alert('Load more papers functionality would be implemented here');
        });
      }

      // Main research function
      async function performResearch(type) {
        const query = queryInput.value.trim();
        if (!query) {
          alert('Please enter a research query first.');
          return;
        }

        modal.classList.remove('hidden');

        try {
          // Search for real papers
          const papers = await searchAcademicPapers(
            query,
            fieldSelect.value,
            yearFromInput.value,
            yearToInput.value
          );

          if (type === 'literature' || type === 'analysis') {
            // Generate hypotheses
            const hypotheses = await generateHypotheses(query, papers);

            // Analyze trends
            const trends = await analyzeResearchTrends(papers);

            // Update UI
            updateResearchResults(papers, hypotheses, trends);
          } else if (type === 'hypothesis') {
            const hypotheses = await generateHypotheses(query, []);
            updateResearchResults([], hypotheses, null);
          } else if (type === 'trends') {
            const trends = await analyzeResearchTrends([]);
            updateResearchResults([], null, trends);
          } else if (type === 'correlations') {
            const correlations = await findCorrelations(query, papers);
            updateResearchResults(papers, null, correlations);
          }

        } catch (error) {
          console.error('Research error:', error);
          alert('Unable to complete research analysis. Please check your internet connection and try again.');
        } finally {
          modal.classList.add('hidden');
        }
      }

      // Hypothesis exploration
      document.addEventListener('click', function(e) {
        if (e.target.matches('button[class*="text-amber-400"]') && e.target.textContent === 'Explore') {
          const card = e.target.closest('.hypothesis-card');
          const statement = card.querySelector('p').textContent;
          alert(`Exploring hypothesis: "${statement}"\n\nThis would open a detailed analysis view with supporting data, related papers, and suggested experiments.`);
        }
      });

      // Show placeholder data immediately
      showPlaceholderData();
      
      // Auto-search on page load with default query
      setTimeout(() => {
        if (queryInput) {
          queryInput.value = 'machine learning climate change satellite data';
          if (litSearchBtn) litSearchBtn.click();
        }
      }, 2000);
    });

    // Show hypothesis details
    function showHypothesisDetails(methods) {
      const modal = document.createElement('div');
      modal.className = 'fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center';
      modal.innerHTML = `
        <div class="glass-panel rounded-xl p-6 max-w-md w-full mx-4">
          <h3 class="text-lg font-semibold mb-4 text-amber-300">Research Methods</h3>
          <p class="text-sm text-slate-300 mb-4">${methods}</p>
          <button onclick="this.closest('.fixed').remove()" class="w-full px-4 py-2 bg-amber-600 hover:bg-amber-500 rounded-lg text-sm font-medium transition-all duration-200">
            Close
          </button>
        </div>
      `;
      document.body.appendChild(modal);
      
      // Close on backdrop click
      modal.addEventListener('click', (e) => {
        if (e.target === modal) modal.remove();
      });
    }

    // Find correlations function
    async function findCorrelations(query, papers) {
      const prompt = `
        Based on this research query: "${query}" and the following papers, identify potential correlations and relationships:

        ${papers.slice(0, 3).map(p => `Title: ${p.title}\nAbstract: ${p.abstract.substring(0, 200)}...`).join('\n\n')}

        Identify:
        1. Variable correlations that could be explored
        2. Cross-disciplinary connections
        3. Temporal relationships
        4. Spatial correlations
        5. Methodological connections

        Format as clear, actionable correlation insights.
      `;

      try {
        return await callGeminiAPI(prompt);
      } catch (error) {
        console.error('Correlation analysis error:', error);
        return 'Unable to analyze correlations at this time.';
      }
    }
  </script>
</body>
</html>